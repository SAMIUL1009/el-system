<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin EL Entry</title>

<style>
body{
    font-family:Arial;
    background:#f2f2f2;
    font-size:12px;
    margin:0;
}
.box{
    max-width:420px;
    background:#fff;
    margin:10px auto;
    padding:8px;
    border:1.5px solid #000;
}
h2{
    text-align:center;
    font-size:15px;
    margin:6px 0;
}
input,select,button{
    width:100%;
    padding:6px;
    margin:4px 0;
    font-size:12px;
}
button{
    background:#27ae60;
    color:white;
    border:none;
}
.small-btn{
    background:#2980b9;
}
hr{
    margin:8px 0;
}
p{
    text-align:center;
    color:green;
}
</style>
</head>

<body>

<div class="box">
<h2>Admin ‚Äì EL Data Entry</h2>

<select id="wid"></select>
<input id="total" placeholder="Total EL (Year)" value="24">

<button onclick="saveWorker()">Save / Update Worker</button>

<hr>

<h2>Add / Update Monthly EL</h2>

<select id="mid"></select>
<input id="month" placeholder="Month (e.g. Jan-2025)">
<input id="el" placeholder="EL Taken">

<button class="small-btn" onclick="addEL()">Save EL</button>

<p id="msg"></p>
</div>

<script>
// üîπ Default Workers List
const defaultWorkers = {
  "700074":"RAKIBUL SK",
  "700087":"TUSHAR PAL",
  "700271":"AZIMUDDIN SK",
  "700274":"ARUP BHASKAR",
  "700278":"IMMAMUDDIN SK",
  "700279":"SHAFFIUDDIN SK",
  "700282":"BIDHAN CH. MONDAL",
  "700283":"ANUP MONDAL",
  "700284":"SAMJAN SK",
  "700286":"KAZI MASUD"
};

// üîπ Load from storage or init
let workers = JSON.parse(localStorage.getItem("workers") || "{}");

// üîπ Auto add default workers (first time)
for(let id in defaultWorkers){
    if(!workers[id]){
        workers[id] = {
            name: defaultWorkers[id],
            total: 24,
            months: {}
        };
    }
}
localStorage.setItem("workers", JSON.stringify(workers));

// üîπ Fill dropdowns
function loadDropdown(){
    wid.innerHTML = "";
    mid.innerHTML = "";
    for(let id in workers){
        let text = id + " - " + workers[id].name;
        wid.innerHTML += `<option value="${id}">${text}</option>`;
        mid.innerHTML += `<option value="${id}">${text}</option>`;
    }
}
loadDropdown();

function saveWorker(){
    let id = wid.value;
    workers[id].total = Number(total.value) || 0;
    localStorage.setItem("workers", JSON.stringify(workers));
    msg.innerText = "‚úÖ Worker Updated";
}

function addEL(){
    let id = mid.value;
    if(!month.value){
        alert("Month ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®");
        return;
    }
    workers[id].months[month.value] = Number(el.value) || 0;
    localStorage.setItem("workers", JSON.stringify(workers));
    msg.innerText = "‚úÖ EL Saved";
}
</script>

</body>
</html>